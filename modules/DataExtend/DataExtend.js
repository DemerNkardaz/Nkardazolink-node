const fs=require("fs"),path=require("path"),yaml=require("js-yaml");function deepMerge(e,t){for(const r in t)t.hasOwnProperty(r)&&("object"!=typeof t[r]||Array.isArray(t[r])||null===t[r]?e[r]=t[r]:(e[r]||(e[r]={}),deepMerge(e[r],t[r])))}async function DataExtend(e,t){for(const r of e){const e=path.resolve(t,r.source),o=path.extname(e),n=r.as;try{let t;if(".json"===o)t=require(e);else{if(".yaml"!==o&&".yml"!==o)throw new Error("Unsupported file extension");{const r=fs.readFileSync(e,"utf8");t=yaml.load(r)}}const r=n.split(".");let a=global;for(let e=0;e<r.length-1;e++)a[r[e]]||(a[r[e]]={}),a=a[r[e]];a[r[r.length-1]]||(a[r[r.length-1]]={}),deepMerge(a[r[r.length-1]],t),console.log(`[33m[${(new Date).toLocaleString().replace(",","")}] :: üü® > [DATA-EXTEND] :: [${o.toUpperCase()}] from [${e}] now as ‚Äú${n}‚Äù[39m`)}catch(t){console.error(`Error loading file ${e}: ${t.message}`)}}}module.exports={DataExtend:DataExtend};